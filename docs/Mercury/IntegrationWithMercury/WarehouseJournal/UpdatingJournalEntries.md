# Актуализация записей журнала продукции

Записи журнала регулярно обновляются с результатами операций в ГИС через API. Данная функция нужна для принудительной актуализации.

*Момент возникновения операции:* Если данные по остаткам в ГИС и ИС не синхронизированы

*Cпособы выполнения:*

1. По ГУИД. Он нужен в первую очередь, если нам известен ГУИД, но саму запись мы не нашли или даже не искали
2. Кнопка **"Актуализировать"**. Она выполняет принудительную актуализацию - очищает уид версии и получает для каждого переданного журнала по гуид запись, перезаписывая полностью. Это позволяет обойти ситуацию, когда на записи версия актуальная, но запись почему-то не актуальная
3. Получение списка записей через заявку. Будут получены те записи, которые **созданы** за указанный период. Этот способ хорошо работает для получения новых записей.
4. Получение истории записей. Будут получены те записи, которые **изменились** за указанный период. Таких записей намного больше и они включают в себя и созданные. Этот способ хорошо работает для получения актуальных остатков, но работает значительно дольше.

3 и 4 способ должны быть в регламентах, 2 обычно используется при проблемах.

При расхождении остатков записей журнала с Меркурием рекомендуется выполнять эту операцию по всему журналу продукции с отборами в наличии и по предприятию владельцу.

**Результат:** актуальные данные по записям журнала.

## Загрузка по ГУИД

Командой **"Загрузить из ГИС Меркурий"** можно вызвать форму обмена с ГИС Меркурий для отправки заявок в ГИС Меркурий. И выбрать вид бизнес-операции **Получение записи журнала по ГУИД**.

[![1][1]][1]

В поле идентификатор вносится ГУИД записи и отправляется заявка на получение данных.

## Групповая синхронизация

Для актуализации выбранных записей журнала из ГИС Меркурий, необходимо выделить нужные из общего списка записей журнала и нажать на **"Актуализировать"**

[![2][2]][2]

После чего откроется форма **"Актуализация записей журнала"**. Внизу заполнится инициатор, его можно при желании изменить.

[![3][3]][3]

После нажатия на **"Актуализировать записи"** создадутся заявки на обновления (по одной заявке на одну запись) и будут последовательно обмениваться.

[1]: UpdatingJournalEntries.assets/1.png
[2]: UpdatingJournalEntries.assets/2.png
[3]: UpdatingJournalEntries.assets/3.png
